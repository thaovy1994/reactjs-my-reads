{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useDebounce } from 'use-debounce';\nimport * as BooksAPI from '..//BooksAPI';\nfunction useQuery(query) {\n  _s();\n  const [searchBooks, setSearchBooks] = useState([]);\n  const [value] = useDebounce(query, 100);\n  useEffect(() => {\n    let isActive = true;\n    if (value) {\n      BooksAPI.search(value).then(data => {\n        if (data.error) {\n          setSearchBooks([]);\n        } else {\n          if (isActive) {\n            setSearchBooks(data);\n          }\n        }\n      });\n    }\n    return () => {\n      isActive = false;\n      setSearchBooks([]);\n    };\n  }, [value]);\n  return [searchBooks, setSearchBooks];\n}\n_s(useQuery, \"7Ivzy927Wmtrf9Lcao7mMhM+NY8=\", false, function () {\n  return [useDebounce];\n});\nexport default useQuery;","map":{"version":3,"names":["useEffect","useState","useDebounce","BooksAPI","useQuery","query","_s","searchBooks","setSearchBooks","value","isActive","search","then","data","error"],"sources":["D:/Udacity/nd0191-c1-myreads/starter/src/hooks/useQuery.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useDebounce } from 'use-debounce';\nimport * as BooksAPI from '..//BooksAPI';\n\n\nfunction useQuery(query) {\n\n    const [searchBooks, setSearchBooks] = useState([]);\n    const [value] = useDebounce(query, 100);\n\n    useEffect(() => {\n\n        let isActive = true;\n        if (value) {\n            BooksAPI.search(value).then(data => {\n                if (data.error) {\n                    setSearchBooks([])\n                } else {\n                    if (isActive) {\n                        setSearchBooks(data);\n                    }\n                }\n            })\n        }\n\n        return () => {\n            isActive = false;\n            setSearchBooks([])\n        }\n\n    }, [value])\n\n\n    return [searchBooks, setSearchBooks];\n\n}\n\nexport default useQuery;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,cAAc;AAC1C,OAAO,KAAKC,QAAQ,MAAM,cAAc;AAGxC,SAASC,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAErB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACQ,KAAK,CAAC,GAAGP,WAAW,CAACG,KAAK,EAAE,GAAG,CAAC;EAEvCL,SAAS,CAAC,MAAM;IAEZ,IAAIU,QAAQ,GAAG,IAAI;IACnB,IAAID,KAAK,EAAE;MACPN,QAAQ,CAACQ,MAAM,CAACF,KAAK,CAAC,CAACG,IAAI,CAACC,IAAI,IAAI;QAChC,IAAIA,IAAI,CAACC,KAAK,EAAE;UACZN,cAAc,CAAC,EAAE,CAAC;QACtB,CAAC,MAAM;UACH,IAAIE,QAAQ,EAAE;YACVF,cAAc,CAACK,IAAI,CAAC;UACxB;QACJ;MACJ,CAAC,CAAC;IACN;IAEA,OAAO,MAAM;MACTH,QAAQ,GAAG,KAAK;MAChBF,cAAc,CAAC,EAAE,CAAC;IACtB,CAAC;EAEL,CAAC,EAAE,CAACC,KAAK,CAAC,CAAC;EAGX,OAAO,CAACF,WAAW,EAAEC,cAAc,CAAC;AAExC;AAACF,EAAA,CA9BQF,QAAQ;EAAA,QAGGF,WAAW;AAAA;AA6B/B,eAAeE,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}